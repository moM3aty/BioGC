@{
    ViewData["Title"] = "Shopping Cart";
}

<style>
    .cart-item-row {
        border-bottom: 1px solid #dee2e6;
        padding-top: 1.5rem;
        padding-bottom: 1.5rem;
    }

        .cart-item-row:last-child {
            border-bottom: none;
        }

    .cart-product-image {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 8px;
    }

    .cart-summary {
        background-color: #f8f9fa;
        border-radius: var(--border-radius);
        padding: 2rem;
    }
</style>

<section class="padding-section">
    <div class="container">
        <h2 class="text-center mt-5 mb-5" data-ar="سلة التسوق" data-en="Shopping Cart">Shopping Cart</h2>

        <div class="row g-5">
            <div class="col-lg-8">
                <div id="cart-items-container">
                    <!-- Cart items will be dynamically inserted here by shop.js -->
                </div>

                <div id="empty-cart-msg" class="text-center py-5" style="display: none;">
                    <i class="fas fa-shopping-cart fa-3x text-muted mb-3"></i>
                    <h4 data-ar="سلة التسوق فارغة" data-en="Your shopping cart is empty.">Your shopping cart is empty.</h4>
                    <p class="text-muted" data-ar="لم تقم بإضافة أي منتجات بعد." data-en="You have not added any products yet.">You have not added any products yet.</p>
                    <a asp-controller="Products" asp-action="List" class="btn btn-primary mt-3" data-ar="العودة للتسوق" data-en="Return to Shop">Return to Shop</a>
                </div>
            </div>

            <div class="col-lg-4">
                <div id="cart-summary-section" class="cart-summary sticky-top" style="top: 120px; display: none;">
                    <h4 class="mb-4" data-ar="ملخص الطلب" data-en="Order Summary">Order Summary</h4>
                    <div class="d-flex justify-content-between mb-2">
                        <span data-ar="الإجمالي الفرعي" data-en="Subtotal">Subtotal</span>
                        <span id="cart-subtotal">$0.00</span>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between fw-bold fs-5 mb-4">
                        <span data-ar="الإجمالي" data-en="Total">Total</span>
                        <span id="cart-total">$0.00</span>
                    </div>
                    <div class="d-grid">
                        <a id="checkout-btn" href="@Url.Action("Index", "Checkout")" class="btn btn-primary btn-lg" data-ar="الانتقال للدفع" data-en="Proceed to Checkout">Proceed to Checkout</a>
                        <small id="login-prompt" class="text-center mt-2" style="display: none;">
                            <a asp-controller="Account" asp-action="Login" class="text-decoration-underline" data-ar="يرجى تسجيل الدخول للمتابعة" data-en="Please log in to proceed">Please log in to proceed</a>
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script src="~/js/shop.js" asp-append-version="true"></script>
}
